spring:
  datasource:
    url: ${DATABASE_URL}
    driver-class-name: org.postgresql.Driver

  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        format_sql: false

  flyway:
    enabled: true
    baseline-on-migrate: true
    locations: classpath:db/migration
    schemas: public

  # Email configuration (YOU NEED THIS!)
  mail:
    host: ${SPRING_MAIL_HOST:smtp.gmail.com}
    port: ${SPRING_MAIL_PORT:465}
    username: ${SPRING_MAIL_USERNAME:}
    password: ${SPRING_MAIL_PASSWORD:}
    properties:
      mail.smtp.auth: true
      mail.smtp.ssl.enable: true

jwt:
  secret: ${JWT_SECRET:your-very-long-secret-key-at-least-32-chars-long}
  expiration-seconds: 86400

payment:
  paystack:
    secret-key: ${PAYSTACK_SECRET_KEY:}
    public-key: ${PAYSTACK_PUBLIC_KEY:}
    webhook-secret: ${PAYSTACK_WEBHOOK_SECRET:}
  flutterwave:
    secret-key: ${FLUTTERWAVE_SECRET_KEY:}
    public-key: ${FLUTTERWAVE_PUBLIC_KEY:}
    webhook-secret: ${FLUTTERWAVE_WEBHOOK_SECRET:}

app:
  setup-key: ${ADMIN_SETUP_KEY:changeme-before-deploy}
  payment:
    callback-url: ${PAYMENT_CALLBACK_URL:http://localhost:3000/payment/callback}
  mail:
    from-address: ${MAIL_FROM_ADDRESS:noreply@aideesigns.com}
    from-name: ${MAIL_FROM_NAME:Aideesigns & Stitches}
    admin-email: ${ADMIN_EMAIL:hellorichard.uzor@gmail.com}

# Important: Use PORT env variable for Railway/Render
server:
  port: ${PORT:8080}

# Production logging
logging:
  level:
    root: INFO
    com.aideesigns: INFO
    org.springframework.web: WARN